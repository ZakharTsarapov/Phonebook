"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[92],{5092:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a="SectionName_text__pIph9",r=n(184);function s(e){var t=e.title;return(0,r.jsx)(r.Fragment,{children:t&&(0,r.jsx)("h2",{className:a,children:t})})}var c=n(5048),i=n(6895),o="Filter_filter__vxThR",l="Filter_filter__input__toa89",u="Filter_container__L5eml",m=n(5984);function d(){var e=(0,c.v9)(i.B8),t=(0,c.I0)(),n=(0,m.x0)();return(0,r.jsx)("div",{className:u,children:(0,r.jsxs)("label",{className:o,htmlFor:n,children:["\u041f\u043e\u0448\u0443\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 \u0437\u0430 \u0456\u043c'\u044f\u043c",(0,r.jsx)("input",{className:l,type:"text",onChange:function(e){t((0,i.Tv)(e.currentTarget.value.trim()))},id:n,name:e})]})})}var _="ContactList_item__EZYHO",h="ContactList_item__btn__KCm18",x="ContactList_list__csErn",f="ContactList_loader__3ATTL",p="ContactList_text__+NWAW",j="ContactList_quantity__JkddB",b="ContactList_nomatch__bx-lK",v="ContactList_refetch__87C1E",C=n(2791),N=n(9634);function g(e,t){return e.name.localeCompare(t.name)}var L=n(5861),y=n(9439),F=n(4687),k=n.n(F),w=n(6355),Z=n(9983),A="ContactItem_container__HZiZE",T="ContactItem_name__XjpNK",z="ContactItem_number__mfZ8x",E="ContactItem_btn__1h5dG",I=n(1686);function P(e){var t=e.id,n=e.name,a=e.number,s=(0,N.Nt)(),c=(0,y.Z)(s,2),i=c[0],o=c[1].isLoading,l=function(){var e=(0,L.Z)(k().mark((function e(t,n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t);case 3:I.Notify.success('"'.concat(n,'" \u0431\u0443\u0432 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u0438\u0439 \u0437 \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0443')),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message),I.Notify.error('\u041f\u043e\u043c\u0438\u043b\u043a\u0430, "'.concat(n,'" \u043d\u0435 \u0437\u043c\u043e\u0433\u043b\u0438 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438'));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:A,children:[(0,r.jsx)("p",{className:T,children:n}),(0,r.jsx)("a",{className:z,href:"tel:".concat(a),children:a}),(0,r.jsx)("button",{className:E,type:"button",onClick:function(){return l(t,n)},disabled:o,"aria-label":"Delete contact",children:(0,r.jsx)(Z.Pd.Provider,{value:{size:"2em"},children:o?(0,r.jsx)(w.fCD,{}):(0,r.jsx)(w.AMf,{})})})]})}function q(){var e=(0,N.bC)(),t=e.data,n=void 0===t?[]:t,a=e.isLoading,s=e.isError,o=e.refetch,l=(0,c.v9)(i.B8),u=function(){return n?n.length:0},m=(0,C.useMemo)((function(){return function(){if(n){var e=l.toLowerCase().trim();return n.filter((function(t){return t.name.toLowerCase().includes(e)})).sort(g)}}}),[n,l])();return(0,r.jsxs)(r.Fragment,{children:[a?(0,r.jsx)("p",{className:f,children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f..."}):u()>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:p,children:["\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432:"," ",(0,r.jsx)("span",{className:j,children:u()})]}),(0,r.jsx)("ul",{className:_,children:m.length?m.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,r.jsx)("li",{className:x,children:(0,r.jsx)(P,{id:t,name:n,number:a})},t)})):(0,r.jsx)("p",{className:b,children:"\u041d\u0435\u043c\u0430\u0454 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0443"})})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("p",{className:p,children:"\u041d\u0435\u043c\u0430\u0454 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 \u0443 \u0432\u0430\u0448\u0456\u0439 \u043a\u043d\u0438\u0437\u0456"})}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:v,children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430! \u041e\u043d\u043e\u0432\u0456\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432"}),(0,r.jsx)("button",{className:h,type:"button",onClick:function(){return o()},children:(0,r.jsx)(Z.Pd.Provider,{value:{size:"5em"},children:(0,r.jsx)(w.WLu,{})})})]})]})}var B=n(5273),M="ContactForm_contact__btn__xohRT",S="ContactForm_contact__input__pLEHv",D="ContactForm_contact__label__mycg1",H="ContactForm_contact__form__OjRMi",J="ContactForm_container__qpJ1N";function K(){var e=(0,C.useState)(""),t=(0,y.Z)(e,2),n=t[0],a=t[1],s=(0,C.useState)(""),c=(0,y.Z)(s,2),i=c[0],o=c[1],l=(0,N.bC)().data,u=(0,N.Tn)(),m=(0,y.Z)(u,2),d=m[0],_=m[1].isLoading,h=(0,B.x0)(),x=(0,B.x0)(),f=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":return a(r);case"number":return o(r);default:return}},p=function(){var e=(0,L.Z)(k().mark((function e(t){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!l.find((function(e){return e.name.toLowerCase()===n.toLowerCase()&&e.number===i}))){e.next=4;break}return I.Notify.info("\u0446\u0435\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0436\u0435 \u0454 \u0443 \u0441\u043f\u0438\u0441\u043a\u0443"),e.abrupt("return");case 4:if(!l.find((function(e){return e.number===i}))){e.next=7;break}return I.Notify.info("\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0432\u0436\u0435 \u0435 \u0443 \u0431\u0430\u0437\u0456"),e.abrupt("return");case 7:return r={name:n,number:i},e.prev=8,e.next=11,d(r);case 11:I.Notify.success("\u041d\u043e\u0432\u0438\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0431\u0443\u0432 \u0434\u043e\u0434\u0430\u043d\u0438\u0439"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(8),console.log(e.t0.message),I.Notify.failure("\u041f\u043e\u043c\u0438\u043b\u043a\u0430, \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u043d\u0435 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u043e");case 18:a(""),o("");case 19:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,r.jsx)("div",{className:J,children:(0,r.jsxs)("form",{className:H,onSubmit:p,children:[(0,r.jsxs)("label",{className:D,htmlFor:h,children:["\u0406\u043c'\u044f",(0,r.jsx)("input",{className:S,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:n,onChange:f,id:h,required:!0})]}),(0,r.jsxs)("label",{className:D,htmlFor:x,children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d",(0,r.jsx)("input",{className:S,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:i,onChange:f,id:x,required:!0})]}),(0,r.jsx)("button",{className:M,type:"submit",disabled:_,children:_?"\u0414\u043e\u0434\u0430\u0454\u043c\u043e...":"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})})}function R(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{title:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"}),(0,r.jsx)(K,{}),(0,r.jsx)(s,{title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0438"}),(0,r.jsx)(d,{}),(0,r.jsx)(q,{})]})}}}]);
//# sourceMappingURL=92.991a3141.chunk.js.map